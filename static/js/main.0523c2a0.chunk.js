(this["webpackJsonptechnotes-frontend"]=this["webpackJsonptechnotes-frontend"]||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(15),o=n.n(r),a=n(17),i=n(7),j=n(11),l=n(16),d=n(18),b=n(35),u="__app__loggedin__key__",h="".concat("https://technotes-api.herokuapp.com","/api/").concat("v1"),O=function(){var e=localStorage.getItem(u);if(e){var t=Object(b.a)(e).exp;if(Date.now()<1e3*t)return e}return!1},x=n(1),m=Object(c.createContext)();var p=function(e){var t=e.children,n=Object(c.useState)(null),s=Object(l.a)(n,2),r=s[0],o=s[1],a=Object(c.useState)(!0),i=Object(l.a)(a,2),j=i[0],d=i[1];return Object(c.useEffect)((function(){o(O())}),[]),Object(x.jsx)(m.Provider,{value:{user:r,setUser:o,loggedIn:Boolean(r),loading:j,toggleLoading:d},children:t})},v=function(){return Object(c.useContext)(m)},g=n(72),f=n(73),N=n(74),w=n(36),y=n.n(w).a.create({baseURL:h,headers:{"Content-Type":"application/json"},proxy:{host:"localhost",port:4e3}});y.interceptors.request.use((function(e){var t=O();return t&&(e.headers["X-Jwt-Token"]="Bearer ".concat(t)),e}));y.interceptors.response.use((function(e){return e.data}),(function(e){return function(e){return e.response?Promise.reject(Object(j.a)(Object(j.a)({},e.response.data),{},{__error:e})):e.request?Promise.reject(e.request):Promise.reject(e.message)}(e)})),window.axios=y;var L=y,C={login:function(e){return L.post("/auth",{email:e})}};var k=function(e){var t=e.children,n=Object(d.a)(e,["children"]);return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)("main",Object(j.a)(Object(j.a)({},n),{},{children:t}))})};var S=function(e){var t=e.show,n=e.onClose,s=v().loggedIn,r=Object(c.useState)(""),o=Object(l.a)(r,2),a=o[0],i=o[1];return Object(c.useEffect)((function(){s&&console.log("Logged In")}),[s]),Object(x.jsx)(k,{hasFooter:!1,children:Object(x.jsxs)(g.a,{show:t,onHide:n,children:[Object(x.jsx)(g.a.Header,{closeButton:!0,children:Object(x.jsx)(g.a.Title,{children:"Login"})}),Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C.login(a).then((function(e){localStorage.setItem(u,e.jwt)}))},children:[Object(x.jsx)(g.a.Body,{children:Object(x.jsxs)(f.a.Group,{children:[Object(x.jsx)(f.a.Label,{children:"Email"}),Object(x.jsx)(f.a.Control,{type:"email",value:a,onChange:function(e){return i(e.target.value)}})]})}),Object(x.jsxs)(g.a.Footer,{children:[Object(x.jsx)(N.a,{variant:"secondary",onClick:n,children:"Close"}),Object(x.jsx)(N.a,{variant:"primary",type:"submit",children:"Save Changes"})]})]})]})})},_=function(e){var t=e.children,n=Object(d.a)(e,["children"]),s=Object(c.useState)(!1),r=Object(l.a)(s,2),o=r[0],a=r[1],b=v(),u=b.loading,h=b.loggedIn,O=Object(i.f)(),m=function(){a(!1),O.push("/")};return Object(c.useEffect)((function(){h||a(!0)}),[h]),Object(x.jsx)(i.a,Object(j.a)(Object(j.a)({},n),{},{render:function(){return h?t:o&&Object(x.jsx)(S,{loading:u,show:o,onClose:m})}}))};var I=function(){return Object(x.jsx)(k,{children:Object(x.jsx)("div",{className:"center-item",children:Object(x.jsxs)("div",{className:"text-center",children:[Object(x.jsx)("h1",{children:"Login to view your Notes"}),Object(x.jsx)(N.a,{as:a.b,type:"primary",to:"/home",children:"Go"})]})})})};var P=function(){return Object(x.jsx)("section",{className:"col note-viewer",children:Object(x.jsxs)("div",{className:"note",children:[Object(x.jsxs)("div",{className:"note-header",children:[Object(x.jsx)("h1",{className:"note-title",children:"New Note"}),Object(x.jsxs)("div",{className:"note-menu",role:"menubar",children:[Object(x.jsx)("small",{className:"note-updated-at",role:"status",children:"Last updated on 22 Dec 2020 at 4:47 PM"}),Object(x.jsx)("button",{type:"button",className:"edit-button edit-button--outline",role:"menuitem",children:"Edit"})]})]}),Object(x.jsx)("div",{className:"note-preview",children:Object(x.jsxs)("div",{className:"text-with-markdown",children:[Object(x.jsx)("h1",{children:"Welcome Note"}),Object(x.jsxs)("p",{children:["This is a new note, Here we go!",Object(x.jsx)("br",{}),"Let's do something more."]}),Object(x.jsx)("blockquote",{children:Object(x.jsx)("p",{children:"Thanks"})})]})})]})})};var T=function(){return Object(x.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(x.jsx)("path",{d:"M9.5 0.75L5 5.25L0.5 0.75",stroke:"#8A8D91",strokeLinecap:"round",strokeLinejoin:"round"})})},B=function(){return Object(x.jsx)("nav",{children:Object(x.jsxs)("ul",{className:"notes-list",children:[Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"sidebar-note-list-item",children:[Object(x.jsxs)("header",{className:"sidebar-note-header",children:[Object(x.jsx)("strong",{children:"Long Note"}),Object(x.jsx)("small",{children:"8:45 PM"})]}),Object(x.jsx)("button",{type:"button",className:"sidebar-note-open",style:{border:"1px solid transparent"},children:"Open note for preview"}),Object(x.jsx)("button",{type:"button",className:"sidebar-note-toggle-expand",children:Object(x.jsx)(T,{})})]})}),Object(x.jsx)("li",{children:Object(x.jsxs)("div",{className:"sidebar-note-list-item",children:[Object(x.jsxs)("header",{className:"sidebar-note-header",children:[Object(x.jsx)("strong",{children:"New Note"}),Object(x.jsx)("small",{children:"12/22/20"})]}),Object(x.jsx)("button",{type:"button",style:{border:"1px solid var(--primary-border)",backgroundColor:"var(--tertiary-blue)"},className:"sidebar-note-open",children:"Open note for preview"}),Object(x.jsx)("button",{type:"button",className:"sidebar-note-toggle-expand",children:Object(x.jsx)(T,{})})]})})]})})};var E=function(){return Object(x.jsxs)("section",{className:"col sidebar",children:[Object(x.jsxs)("section",{className:"sidebar-header",children:[Object(x.jsx)("h4",{children:"Tech Notes"}),Object(x.jsx)("button",{type:"button",className:"edit-button edit-button--solid",role:"menuitem",children:"New"})]}),Object(x.jsx)(B,{})]})};var F=function(){return Object(x.jsx)(k,{children:Object(x.jsxs)("div",{className:"main",children:[Object(x.jsx)(E,{}),Object(x.jsx)(P,{}),!1]})})};var D=function(){return Object(x.jsxs)(i.c,{children:[Object(x.jsx)(i.a,{path:"/",exact:!0,component:I}),Object(x.jsx)(_,{path:"/home",exact:!0,children:Object(x.jsx)(F,{})})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),r(e),o(e)}))};n(69);o.a.render(Object(x.jsx)(s.a.StrictMode,{children:Object(x.jsx)(a.a,{children:Object(x.jsx)(p,{children:Object(x.jsx)(D,{})})})}),document.getElementById("root")),q()}},[[70,1,2]]]);
//# sourceMappingURL=main.0523c2a0.chunk.js.map